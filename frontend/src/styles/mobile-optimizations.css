/* Mobile UX Optimizations
 * 
 * Addresses usability issues:
 * - Thumb-zone button placement
 * - Sticky auction timer
 * - Mobile ergonomics
 */

/* Ensure minimum touch target sizes on mobile */
@media (pointer: coarse) {
  button,
  a[role="button"],
  input[type="submit"],
  input[type="button"],
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
  }
  
  /* Primary action buttons should be easily reachable */
  .btn-primary,
  .primary-action,
  [data-primary="true"] {
    margin-bottom: 20px; /* Ensure they're in thumb zone */
  }
}

/* Mobile viewport optimizations */
@media screen and (max-width: 768px) {
  /* Sticky timer for auction pages */
  .auction-timer {
    position: sticky;
    top: 0;
    z-index: 30;
    background: white;
    border-bottom: 1px solid #e5e7eb;
    padding: 12px 16px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  /* Optimize button spacing for one-handed use */
  .mobile-button-group {
    padding-bottom: 20px;
    margin-bottom: 20px;
  }
  
  .mobile-button-group button {
    width: 100%;
    margin-bottom: 12px;
    min-height: 48px;
  }
  
  /* Improve form input accessibility */
  input, select, textarea {
    font-size: 16px; /* Prevent zoom on iOS */
    min-height: 44px;
  }
  
  /* Bottom navigation safe area */
  .content-with-bottom-nav {
    padding-bottom: 80px; /* Account for bottom navigation */
  }
  
  /* Improve tap targets in cards */
  .card-action {
    padding: 16px;
    min-height: 56px;
    display: flex;
    align-items: center;
  }
  
  /* Optimize modal/dialog positioning */
  .mobile-dialog {
    margin: 16px;
    max-height: calc(100vh - 32px);
    width: calc(100vw - 32px);
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  button:focus,
  input:focus,
  select:focus {
    outline: 3px solid currentColor;
    outline-offset: 2px;
  }
}

/* Reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .animate-pulse {
    animation: none;
  }
}

/* Dark mode considerations for mobile */
@media (prefers-color-scheme: dark) {
  .mobile-nav {
    background-color: #1f2937;
    color: #f9fafb;
  }
  
  .auction-timer {
    background-color: #1f2937;
    border-bottom-color: #374151;
    color: #f9fafb;
  }
}

/* Landscape orientation optimizations */
@media screen and (max-width: 768px) and (orientation: landscape) {
  .auction-timer {
    padding: 8px 16px; /* Reduce height in landscape */
  }
  
  .mobile-button-group button {
    min-height: 40px; /* Smaller buttons in landscape */
  }
}

/* Focus management for mobile */
@media (pointer: coarse) {
  /* Ensure focus is visible but not overwhelming on touch devices */
  button:focus:not(:focus-visible) {
    outline: none;
  }
  
  button:focus-visible {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
  }
}

/* Utility classes for mobile optimizations */
.thumb-zone {
  /* Positions element in lower 2/3 of screen for thumb accessibility */
  margin-top: auto;
  margin-bottom: 20px;
}

.mobile-sticky {
  position: sticky;
  top: 0;
  z-index: 40;
  background: white;
  backdrop-filter: blur(8px);
}

.mobile-safe-area {
  padding-bottom: env(safe-area-inset-bottom, 20px);
}

.touch-target {
  min-height: 44px;
  min-width: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Animation optimizations for mobile */
@media (max-width: 768px) {
  .transition-all {
    transition-duration: 200ms; /* Faster transitions on mobile */
  }
  
  .animate-in {
    animation-duration: 250ms;
  }
}