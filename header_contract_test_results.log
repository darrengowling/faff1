ğŸ§ª Global E2E Test Setup Starting...
ğŸ” Pre-check: Verifying TESTIDS import...
âœ… TESTIDS imported successfully: 122 testids available
   Sample testids: homeCreateLeagueBtn, navCreateLeagueBtn, joinViaInviteBtn, createLeagueWizardName, createLeagueWizardSlots...
âœ… Application accessible at: https://pifa-league.preview.emergentagent.com (Status: 200)
ğŸ” Creating authenticated storage states...
ğŸ”‘ Authenticating commish@example.com...
ğŸ” Logging in user: commish@example.com (mode: test)
ğŸ§ª Test-only login for user: commish@example.com
âœ… Test-only login successful: commish@example.com (User ID: e92d337d-41e1-4867-abb8-154aa3a6357a)
âœ… commish@example.com authenticated successfully
ğŸ’¾ Storage state saved: test-results/commissioner-state.json
ğŸ”‘ Authenticating alice@example.com...
ğŸ” Logging in user: alice@example.com (mode: test)
ğŸ§ª Test-only login for user: alice@example.com
âœ… Test-only login successful: alice@example.com (User ID: 1d870e32-2668-4003-a477-ed01c0b73532)
âœ… alice@example.com authenticated successfully
ğŸ’¾ Storage state saved: test-results/alice-state.json
ğŸ”‘ Authenticating bob@example.com...
ğŸ” Logging in user: bob@example.com (mode: test)
ğŸ§ª Test-only login for user: bob@example.com
âœ… Test-only login successful: bob@example.com (User ID: 219110d6-44db-481a-95f9-af0cf54d5467)
âœ… bob@example.com authenticated successfully
ğŸ’¾ Storage state saved: test-results/bob-state.json
ğŸ‰ Global setup completed successfully!

Running 10 tests using 1 worker

âœ… Login Page: back-to-home-link exists
âœ… Login Page: nav-mobile-drawer exists
  âœ“   1 [chromium] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º Login Page (/login) has required header testids (1.6s)
âœ… Landing Page: back-to-home-link exists
âœ… Landing Page: nav-mobile-drawer exists
  âœ“   2 [chromium] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º Landing Page (/) has required header testids (1.6s)
âœ… App Dashboard: back-to-home-link exists
âœ… App Dashboard: nav-mobile-drawer exists
  âœ“   3 [chromium] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º App Dashboard (/app) has required header testids (1.5s)
âœ… Create League: back-to-home-link exists
âœ… Create League: nav-mobile-drawer exists
  âœ“   4 [chromium] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º Create League (/app/leagues/new) has required header testids (1.6s)
âœ… Login Page: Exactly 1 header found
âœ… Landing Page: Exactly 1 header found
âœ… App Dashboard: Exactly 1 header found
âœ… Create League: Exactly 1 header found
  âœ“   5 [chromium] â€º tests/e2e/header-contract.spec.ts:60:7 â€º Header Contract Tests â€º All routes have exactly one header element (4.1s)
âœ… Login Page: back-to-home-link exists
âœ… Login Page: nav-mobile-drawer exists
  âœ˜   6 [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º Login Page (/login) has required header testids (2.0s)
âœ… Landing Page: back-to-home-link exists
âœ… Landing Page: nav-mobile-drawer exists
  âœ˜   7 [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º Landing Page (/) has required header testids (2.2s)
âœ… App Dashboard: back-to-home-link exists
âœ… App Dashboard: nav-mobile-drawer exists
  âœ˜   8 [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º App Dashboard (/app) has required header testids (2.1s)
âœ… Create League: back-to-home-link exists
âœ… Create League: nav-mobile-drawer exists
  âœ˜   9 [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º Create League (/app/leagues/new) has required header testids (1.9s)
âœ… Login Page: Exactly 1 header found
âœ… Landing Page: Exactly 1 header found
âœ… App Dashboard: Exactly 1 header found
âœ… Create League: Exactly 1 header found
  âœ“  10 [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:60:7 â€º Header Contract Tests â€º All routes have exactly one header element (4.0s)
ğŸ§¹ Global E2E Test Teardown Starting...
ğŸ‰ Global teardown completed!


  1) [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º Login Page (/login) has required header testids 

    Error: expect.toHaveAttribute: Error: strict mode violation: locator('[data-testid="nav-mobile-drawer"]') resolved to 2 elements:
        1) <div data-count="7" role="navigation" data-state="open" id="mobile-navigation" data-testid="nav-mobile-drawer" aria-label="Mobile navigation menu" class="bg-theme-surface w-full max-w-sm min-h-full shadow-lg overflow-y-auto drawer-panel">â€¦</div> aka getByLabel('Mobile navigation menu')
        2) <div data-count="7" class="sr-only" data-state="open" aria-hidden="true" data-testid="nav-mobile-drawer">Mobile drawer state: open</div> aka getByText('Mobile drawer state: open')

    Call log:
    [2m  - Expect "toHaveAttribute" with timeout 5000ms[22m
    [2m  - waiting for locator('[data-testid="nav-mobile-drawer"]')[22m


      51 |         
      52 |         // Mobile drawer should now be open
    > 53 |         await expect(mobileDrawer).toHaveAttribute('data-state', 'open');
         |                                    ^
      54 |         
      55 |         console.log(`âœ… ${route.name}: nav-mobile-drawer toggles to open state`);
      56 |       }
        at /app/tests/e2e/header-contract.spec.ts:53:36

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/e2e-header-contract-Header-38dd9-has-required-header-testids-Mobile-Chrome/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/e2e-header-contract-Header-38dd9-has-required-header-testids-Mobile-Chrome/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/e2e-header-contract-Header-38dd9-has-required-header-testids-Mobile-Chrome/error-context.md

  2) [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º Landing Page (/) has required header testids 

    Error: expect.toHaveAttribute: Error: strict mode violation: locator('[data-testid="nav-mobile-drawer"]') resolved to 2 elements:
        1) <div data-count="7" role="navigation" data-state="open" id="mobile-navigation" data-testid="nav-mobile-drawer" aria-label="Mobile navigation menu" class="bg-theme-surface w-full max-w-sm min-h-full shadow-lg overflow-y-auto drawer-panel">â€¦</div> aka getByLabel('Mobile navigation menu')
        2) <div data-count="7" class="sr-only" data-state="open" aria-hidden="true" data-testid="nav-mobile-drawer">Mobile drawer state: open</div> aka getByText('Mobile drawer state: open')

    Call log:
    [2m  - Expect "toHaveAttribute" with timeout 5000ms[22m
    [2m  - waiting for locator('[data-testid="nav-mobile-drawer"]')[22m


      51 |         
      52 |         // Mobile drawer should now be open
    > 53 |         await expect(mobileDrawer).toHaveAttribute('data-state', 'open');
         |                                    ^
      54 |         
      55 |         console.log(`âœ… ${route.name}: nav-mobile-drawer toggles to open state`);
      56 |       }
        at /app/tests/e2e/header-contract.spec.ts:53:36

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/e2e-header-contract-Header-3edc7-has-required-header-testids-Mobile-Chrome/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/e2e-header-contract-Header-3edc7-has-required-header-testids-Mobile-Chrome/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/e2e-header-contract-Header-3edc7-has-required-header-testids-Mobile-Chrome/error-context.md

  3) [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º App Dashboard (/app) has required header testids 

    Error: expect.toHaveAttribute: Error: strict mode violation: locator('[data-testid="nav-mobile-drawer"]') resolved to 2 elements:
        1) <div data-count="7" role="navigation" data-state="open" id="mobile-navigation" data-testid="nav-mobile-drawer" aria-label="Mobile navigation menu" class="bg-theme-surface w-full max-w-sm min-h-full shadow-lg overflow-y-auto drawer-panel">â€¦</div> aka getByLabel('Mobile navigation menu')
        2) <div data-count="7" class="sr-only" data-state="open" aria-hidden="true" data-testid="nav-mobile-drawer">Mobile drawer state: open</div> aka getByText('Mobile drawer state: open')

    Call log:
    [2m  - Expect "toHaveAttribute" with timeout 5000ms[22m
    [2m  - waiting for locator('[data-testid="nav-mobile-drawer"]')[22m


      51 |         
      52 |         // Mobile drawer should now be open
    > 53 |         await expect(mobileDrawer).toHaveAttribute('data-state', 'open');
         |                                    ^
      54 |         
      55 |         console.log(`âœ… ${route.name}: nav-mobile-drawer toggles to open state`);
      56 |       }
        at /app/tests/e2e/header-contract.spec.ts:53:36

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/e2e-header-contract-Header-c93b8-has-required-header-testids-Mobile-Chrome/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/e2e-header-contract-Header-c93b8-has-required-header-testids-Mobile-Chrome/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/e2e-header-contract-Header-c93b8-has-required-header-testids-Mobile-Chrome/error-context.md

  4) [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º Create League (/app/leagues/new) has required header testids 

    Error: expect.toHaveAttribute: Error: strict mode violation: locator('[data-testid="nav-mobile-drawer"]') resolved to 2 elements:
        1) <div data-count="7" role="navigation" data-state="open" id="mobile-navigation" data-testid="nav-mobile-drawer" aria-label="Mobile navigation menu" class="bg-theme-surface w-full max-w-sm min-h-full shadow-lg overflow-y-auto drawer-panel">â€¦</div> aka getByLabel('Mobile navigation menu')
        2) <div data-count="7" class="sr-only" data-state="open" aria-hidden="true" data-testid="nav-mobile-drawer">Mobile drawer state: open</div> aka getByText('Mobile drawer state: open')

    Call log:
    [2m  - Expect "toHaveAttribute" with timeout 5000ms[22m
    [2m  - waiting for locator('[data-testid="nav-mobile-drawer"]')[22m


      51 |         
      52 |         // Mobile drawer should now be open
    > 53 |         await expect(mobileDrawer).toHaveAttribute('data-state', 'open');
         |                                    ^
      54 |         
      55 |         console.log(`âœ… ${route.name}: nav-mobile-drawer toggles to open state`);
      56 |       }
        at /app/tests/e2e/header-contract.spec.ts:53:36

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/e2e-header-contract-Header-87c7b-has-required-header-testids-Mobile-Chrome/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/e2e-header-contract-Header-87c7b-has-required-header-testids-Mobile-Chrome/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/e2e-header-contract-Header-87c7b-has-required-header-testids-Mobile-Chrome/error-context.md

  4 failed
    [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º Login Page (/login) has required header testids 
    [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º Landing Page (/) has required header testids 
    [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º App Dashboard (/app) has required header testids 
    [Mobile Chrome] â€º tests/e2e/header-contract.spec.ts:21:9 â€º Header Contract Tests â€º Create League (/app/leagues/new) has required header testids 
  6 passed (41.5s)

  Serving HTML report at http://localhost:37745. Press Ctrl+C to quit.
